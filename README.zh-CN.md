# æ–‡ä»¶é‡æ–°æ•´ç†

[English](README.md) | ä¸­æ–‡

ä¸€ä¸ªå¼ºå¤§çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºæ ¹æ®å‚è€ƒç›®å½•ç»“æ„é‡æ–°ç»„ç»‡æ–‡ä»¶ã€‚æ­¤å·¥å…·ç‰¹åˆ«é€‚ç”¨äºæŒ‰ç…§é¢„å®šä¹‰ç»“æ„ç»„ç»‡èµ„æºã€TypeScriptæ–‡ä»¶å’Œå…¶ä»–é¡¹ç›®æ–‡ä»¶ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸš€ **å¿«é€Ÿé«˜æ•ˆ**: å¿«é€Ÿé‡ç»„å¤§é‡æ–‡ä»¶
- ğŸ”§ **çµæ´»é…ç½®**: æ”¯æŒè‡ªå®šä¹‰æ–‡ä»¶æ‰©å±•åå’Œç›®å½•å
- ğŸŒ **å›½é™…åŒ–**: æ”¯æŒè‹±æ–‡å’Œä¸­æ–‡è¾“å‡ºæ¶ˆæ¯
- ğŸ“ **æ™ºèƒ½æ–‡ä»¶åŒ¹é…**: æ ¹æ®åç§°å’Œæ‰©å±•åè‡ªåŠ¨åŒ¹é…æ–‡ä»¶
- ğŸ¯ **ä¿æŒç»“æ„**: åœ¨è¾“å‡ºä¸­ä¿æŒå‚è€ƒç›®å½•ç»“æ„

## å®‰è£…

```bash
npm install -g file-restructure
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
restructure <æºè·¯å¾„> <å‚è€ƒç›®å½•> <è¾“å‡ºç›®å½•>
```

### ç¤ºä¾‹

```bash
# åŸºæœ¬æ–‡ä»¶é‡ç»„
restructure ./src ./reference ./output

# ä½¿ç”¨è‡ªå®šä¹‰æ–‡ä»¶æ‰©å±•å
restructure ./src ./reference ./output -e ".ts,.meta,.json"

# ä½¿ç”¨ä¸­æ–‡è¾“å‡º
restructure ./src ./reference ./output -l zh

# è¯¦ç»†è¾“å‡ºï¼Œè‡ªå®šä¹‰èµ„æºç›®å½•
restructure ./src ./reference ./output -v -a "my-assets"
```

## å‘½ä»¤è¡Œé€‰é¡¹

| é€‰é¡¹ | ç®€å†™ | æè¿° | é»˜è®¤å€¼ |
|------|------|------|--------|
| `--extensions` | `-e` | è¦åŒ¹é…çš„æ–‡ä»¶æ‰©å±•åï¼ˆé€—å·åˆ†éš”ï¼‰ | `.ts` |
| `--assets-dir` | `-a` | èµ„æºç›®å½•åç§° | `assets` |
| `--language` | `-l` | è¾“å‡ºæ¶ˆæ¯è¯­è¨€ (en/zh) | `en` |
| `--verbose` | `-v` | è¯¦ç»†è¾“å‡º | `false` |
| `--help` | `-h` | æ˜¾ç¤ºå¸®åŠ© | - |
| `--version` | - | æ˜¾ç¤ºç‰ˆæœ¬ | - |

## å·¥ä½œåŸç†

1. **æ‰«æå‚è€ƒç›®å½•**: å·¥å…·æ‰«æå‚è€ƒç›®å½•ä¸­æŒ‡å®šæ‰©å±•åçš„æ–‡ä»¶
2. **åŒ¹é…æ–‡ä»¶**: å¯¹äºæ¯ä¸ªå‚è€ƒæ–‡ä»¶ï¼Œåœ¨æºç›®å½•ä¸­æ‰¾åˆ°åŒ¹é…çš„æ–‡ä»¶
3. **åˆ›å»ºç»“æ„**: åˆ›å»ºä¸å‚è€ƒç›®å½•ç›¸åŒçš„ç›®å½•ç»“æ„
4. **å¤åˆ¶æ–‡ä»¶**: å°†åŒ¹é…çš„æ–‡ä»¶å¤åˆ¶åˆ°ç›¸åº”ä½ç½®
5. **å¤„ç†å‰©ä½™**: å°†å‰©ä½™æ–‡ä»¶æ”¾ç½®åœ¨èµ„æºæ ¹ç›®å½•ä¸­

## ä½¿ç”¨åœºæ™¯

- **æ¸¸æˆå¼€å‘**: æ ¹æ®å‚è€ƒç»“æ„ç»„ç»‡æ¸¸æˆèµ„æº
- **Webé¡¹ç›®**: åŸºäºæ¨¡æ¿é‡ç»„TypeScriptæ–‡ä»¶
- **èµ„æºç®¡ç†**: é‡æ–°ç»„ç»‡åª’ä½“æ–‡ä»¶åŠå…¶å…ƒæ•°æ®
- **ä»£ç è¿ç§»**: åœ¨é¡¹ç›®é—´è¿ç§»æ—¶é‡ç»„ä»£ç æ–‡ä»¶

## APIä½¿ç”¨

æ‚¨ä¹Ÿå¯ä»¥ä»¥ç¼–ç¨‹æ–¹å¼ä½¿ç”¨è¯¥åº“ï¼š

```javascript
const FileRestructure = require('file-restructure');

const restructure = new FileRestructure({
  sourceDir: './src',
  referenceDir: './reference',
  outputDir: './output',
  extensions: ['.ts', '.meta'],
  assetsDirName: 'assets',
  language: 'zh'
});

restructure.restructure();
```

## é…ç½®é€‰é¡¹

| é€‰é¡¹ | ç±»å‹ | æè¿° | é»˜è®¤å€¼ |
|------|------|------|--------|
| `sourceDir` | string | æºç›®å½•è·¯å¾„ | - |
| `referenceDir` | string | å‚è€ƒç›®å½•è·¯å¾„ | - |
| `outputDir` | string | è¾“å‡ºç›®å½•è·¯å¾„ | - |
| `extensions` | array | æ–‡ä»¶æ‰©å±•åæ•°ç»„ | `['.ts']` |
| `assetsDirName` | string | èµ„æºç›®å½•åç§° | `'assets'` |
| `language` | string | è¯­è¨€ (en/zh) | `'en'` |

## æ•…éšœæ’é™¤

### å¸¸è§é”™è¯¯

1. **æºç›®å½•ä¸å­˜åœ¨**
   ```
   Error: Source directory does not exist: ./src
   ```
   è§£å†³ï¼šæ£€æŸ¥æºç›®å½•è·¯å¾„æ˜¯å¦æ­£ç¡®

2. **å‚è€ƒç›®å½•ä¸å­˜åœ¨**
   ```
   Error: Reference directory does not exist: ./reference
   ```
   è§£å†³ï¼šæ£€æŸ¥å‚è€ƒç›®å½•è·¯å¾„æ˜¯å¦æ­£ç¡®

3. **æƒé™ä¸è¶³**
   ```
   Error: EACCES: permission denied
   ```
   è§£å†³ï¼šæ£€æŸ¥ç›®å½•æƒé™æˆ–ä½¿ç”¨sudo

### è°ƒè¯•æŠ€å·§

ä½¿ç”¨ `-v` å‚æ•°æŸ¥çœ‹è¯¦ç»†è¾“å‡ºï¼š
```bash
restructure ./src ./reference ./output -v
```

## ç¤ºä¾‹

### æ¸¸æˆå¼€å‘
```bash
# é‡ç»„æ¸¸æˆèµ„æºæ–‡ä»¶
restructure ./game-assets ./template-assets ./organized-assets -e ".png,.jpg,.meta"
```

### Webé¡¹ç›®
```bash
# é‡ç»„TypeScriptæ–‡ä»¶
restructure ./src ./template ./output -e ".ts,.js,.json" -l zh
```

### èµ„æºç®¡ç†
```bash
# é‡ç»„åª’ä½“æ–‡ä»¶
restructure ./media ./structure ./organized -e ".mp4,.jpg,.png,.meta"
```

## æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶åŒ¹é…**: å·¥å…·åŸºäºæ–‡ä»¶åï¼ˆä¸å«æ‰©å±•åï¼‰è¿›è¡ŒåŒ¹é…
2. **ç›®å½•ç»“æ„**: è¾“å‡ºç›®å½•ä¼šä¿æŒä¸å‚è€ƒç›®å½•ç›¸åŒçš„ç»“æ„
3. **æ–‡ä»¶è¦†ç›–**: å¦‚æœç›®æ ‡æ–‡ä»¶å·²å­˜åœ¨ï¼Œä¼šè¢«è¦†ç›–
4. **æƒé™**: ç¡®ä¿æœ‰è¶³å¤Ÿçš„æƒé™è¯»å–æºç›®å½•å’Œå†™å…¥è¾“å‡ºç›®å½•

## æ›´æ–°æ—¥å¿—

### v1.0.8
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒå‘½ä»¤è¡Œå’ŒAPIä½¿ç”¨
- æ”¯æŒè‹±æ–‡å’Œä¸­æ–‡è¾“å‡º
- æ”¯æŒè‡ªå®šä¹‰æ–‡ä»¶æ‰©å±•å
- æ”¯æŒè‡ªå®šä¹‰èµ„æºç›®å½•å

## è®¸å¯è¯

MIT License 